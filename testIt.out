

  TokenAgentFactory
    Deploy TokenAgentFactory And TokenAgent
        * accounts[0]->TokenAgentFactory.deploy(weth) => 0xDc64a140 - gasUsed: 5409312 0.005409312Ξ 13.52 USD @ 1.0 gwei 2500.00 ETH/USD
        * accounts[0]->tokenAgentFactory.newTokenAgent() => 0xb0279Db6 - gasUsed: 207530 0.00020753Ξ 0.518825 USD @ 1.0 gwei 2500.00 ETH/USD
        * accounts[1]->tokenAgentFactory.newTokenAgent() => 0x3dE2Da43 - gasUsed: 190430 0.00019043Ξ 0.476075 USD @ 1.0 gwei 2500.00 ETH/USD
        * accounts[2]->tokenAgentFactory.newTokenAgent() => 0xddEA3d67 - gasUsed: 190430 0.00019043Ξ 0.476075 USD @ 1.0 gwei 2500.00 ETH/USD
        * accounts[3]->tokenAgentFactory.newTokenAgent() => 0xAbB60812 - gasUsed: 190430 0.00019043Ξ 0.476075 USD @ 1.0 gwei 2500.00 ETH/USD
        * now: 1:43:19 PM, expiry: 1:45:19 PM

          # Account                         ETH          WETH 0x5FbDB231        ERC-20 0xe7f1725E                 ERC-721 0x9fE46736                ERC-1155 0xCf7Ed3Ac
          - ---------- ------------------------ ------------------------ ------------------------ ---------------------------------- ----------------------------------
          0 0xf39Fd6e5  9899.974679580860184653                    100.0                   1000.0                         0, 1, 2, 3             0:10, 1:10, 2:10, 3:10
          1 0x70997970  9899.998900018540747194                    100.0                   1000.0                         4, 5, 6, 7             0:20, 1:20, 2:20, 3:20
          2 0x3C44CdDd  9899.998920066746144498                    100.0                   1000.0                       8, 9, 10, 11             0:30, 1:30, 2:30, 3:30
          3 0x90F79bf6  9899.998935314440054965                    100.0                   1000.0                     12, 13, 14, 15             0:40, 1:40, 2:40, 3:40

        * accounts[1]->tokenAgents[1].addOffers(offers1) => ["0x6e5f...4934","0x8b0c...e075","0xc428...52b5"] - gasUsed: 648013 0.000648013Ξ 1.62 USD @ 1.0 gwei 2500.00 ETH/USD
        + tokenAgents[1].Offer721Added(offerKey:0x6e5f...4934, token: 0x9fE46736, nonce: 0, buySell: BUY, expiry: 1:45:19 PM, count: 5, prices: ["0.1"], tokenIds: [], timestamp: 1:45:00 PM)
        + tokenAgents[1].Offer721Added(offerKey:0x8b0c...e075, token: 0x9fE46736, nonce: 0, buySell: SELL, expiry: 1:45:19 PM, count: 6, prices: ["0.1"], tokenIds: ["4","5","6","7"], timestamp: 1:45:00 PM)
        + tokenAgents[1].Offer721Added(offerKey:0xc428...52b5, token: 0x9fE46736, nonce: 0, buySell: SELL, expiry: 1:45:19 PM, count: 65535, prices: ["0.1","0.2","0.3","0.4"], tokenIds: ["4","5","6","7"], timestamp: 1:45:00 PM)
        * trades1: [["0x8b0cce7167837159f43e9abacbe00285d5c1a5e853b6be85be029ec8244fe075","157142857142857142",1,[4,5,6,7]]]
        >        tokenId/index 4 0
        >        msg.sender BUY/owner SELL tokenId/count/price 4 6 100000000000000000
        >        tokenId/index 5 1
        >        msg.sender BUY/owner SELL tokenId/count/price 5 6 100000000000000000
        >        tokenId/index 6 2
        >        msg.sender BUY/owner SELL tokenId/count/price 6 6 100000000000000000
        >        tokenId/index 7 3
        >        msg.sender BUY/owner SELL tokenId/count/price 7 6 100000000000000000
        * accounts[2]->tokenAgents[1].trade(trades1) - gasUsed: 151934 0.000151934Ξ 0.38 USD @ 1.0 gwei 2500.00 ETH/USD
        + erc721Token.Approval(from: 0x70997970, to: 0x00000000, tokenId: 4)
        + erc721Token.Transfer(from: 0x70997970, to: 0x3C44CdDd, tokenId: 4)
        + erc721Token.Approval(from: 0x70997970, to: 0x00000000, tokenId: 5)
        + erc721Token.Transfer(from: 0x70997970, to: 0x3C44CdDd, tokenId: 5)
        + erc721Token.Approval(from: 0x70997970, to: 0x00000000, tokenId: 6)
        + erc721Token.Transfer(from: 0x70997970, to: 0x3C44CdDd, tokenId: 6)
        + erc721Token.Approval(from: 0x70997970, to: 0x00000000, tokenId: 7)
        + erc721Token.Transfer(from: 0x70997970, to: 0x3C44CdDd, tokenId: 7)

          # Account                         ETH          WETH 0x5FbDB231        ERC-20 0xe7f1725E                 ERC-721 0x9fE46736                ERC-1155 0xCf7Ed3Ac
          - ---------- ------------------------ ------------------------ ------------------------ ---------------------------------- ----------------------------------
          0 0xf39Fd6e5  9899.974679580860184653                    100.0                   1000.0                         0, 1, 2, 3             0:10, 1:10, 2:10, 3:10
          1 0x70997970  9899.998252004593352188                    100.0                   1000.0                                                0:20, 1:20, 2:20, 3:20
          2 0x3C44CdDd  9899.998768132550453506                    100.0                   1000.0           4, 5, 6, 7, 8, 9, 10, 11             0:30, 1:30, 2:30, 3:30
          3 0x90F79bf6  9899.998935314440054965                    100.0                   1000.0                     12, 13, 14, 15             0:40, 1:40, 2:40, 3:40

      ✔ Test TokenAgent ERC-721 offers and trades (892ms)


  1 passing (893ms)

